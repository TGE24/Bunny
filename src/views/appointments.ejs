<% include partials/header %>

<body>
	<div class="wrapper">
        <!-- Sidebar -->
        <% include partials/doctorside %>
		<!-- /Sidebar -->
		<!-- Page Content -->
		<div id="content">
			<!-- Top Navigation -->
			<% include partials/navbar %> 
			<!-- /Top Navigation -->
			<!-- Breadcrumb -->
			<!-- Page Title -->
			<div class="row no-margin-padding">
				<div class="col-md-6">
					<h3 class="block-title">Appointments</h3>
				</div>
				<div class="col-md-6">
					<ol class="breadcrumb">						
						<li class="breadcrumb-item">
							<a href="index.html">
								<span class="ti-home"></span>
							</a>
                        </li>
                        <li class="breadcrumb-item">Appointments</li>
						<li class="breadcrumb-item active">Appointments List</li>
					</ol>
				</div>
			</div>
			<!-- /Page Title -->

			<!-- /Breadcrumb -->
			<!-- Main Content -->
			<div class="container-fluid">

				<div class="row">
					<!-- Widget Item -->
					<div class="col-md-12">
						<div class="widget-area-2 proclinic-box-shadow">
							<h3 class="widget-title">Appointments List</h3>
							<div class="table-responsive mb-3">
								<table id="tableId" class="table table-bordered table-striped">
									<thead>
										<tr>
											<th>Patient ID</th>
											<th>Token Number</th>
											<th>Patient Name</th>
											<th>Date</th>
											<th>Time</th>
											<th>Problem</th>
											<th>Status</th>
											<th>Actions</th>
										</tr>
									</thead>
									<tbody>
										<% for(let i=0; i<appointments.length; i++) {%>
										<tr>
											<td>PT<%= appointments[i].token%></td>
											<td>TO<%= appointments[i].token%></td>
											<td><%= appointmentPatients[i]%></td>
											<td><%= appointments[i].date%></td>
											<td><%= appointments[i].time%></td>
											<td><%= appointments[i].problem%></td>
											<td>
												<%- appointments[i].status === "cancelled" ? `<span class="badge badge-danger">Cancelled</span>` : appointments[i].status === "completed" ? `<span class="badge badge-success">Completed</span>`: `<span class="badge badge-warning">pending</span>` %>
											</td>
											<td><a href="/doctor/appointment/<%= appointments[i].token%>"><%- appointments[i].status === "cancelled" ? `<button type="button" class="btn btn-outline-success btn-sm disabled">Attend to</button>`: `<button type="button" class="btn btn-outline-success btn-sm">Attend to</button>` %></a></td>
                                        </tr>
                                        <% } %>
									</tbody>
                                </table>
                                
								<!--Export links-->
								<nav aria-label="Page navigation example">
									<ul class="pagination justify-content-center export-pagination">
										<li class="page-item">
											<a class="page-link" href="#"><span class="ti-download"></span> csv</a>
										</li>
										<li class="page-item">
											<a class="page-link" href="#"><span class="ti-printer"></span>  print</a>
										</li>
										<li class="page-item">
											<a class="page-link" href="#"><span class="ti-file"></span> PDF</a>
										</li>
										<li class="page-item">
											<a class="page-link" href="#"><span class="ti-align-justify"></span> Excel</a>
										</li>
									</ul>
								</nav>
							</div>
						</div>
					</div>
					<!-- /Widget Item -->
				</div>
			</div>
			<!-- /Main Content -->
		</div>
		<!-- /Page Content -->
	</div>
	<!-- Back to Top -->
	<a id="back-to-top" href="#" class="back-to-top">
		<span class="ti-angle-up"></span>
	</a>
	<!-- /Back to Top -->
	<!-- Jquery Library-->
	<script src="/javascripts/jquery-3.2.1.min.js"></script>
	<!-- Popper Library-->
	<script src="/javascripts/popper.min.js"></script>
	<!-- Bootstrap Library-->
    <script src="/javascripts/bootstrap.min.js"></script>
    
    <!-- Datatable  -->
	<script src="/datatable/jquery.dataTables.min.js"></script>
	<script src="/datatable/dataTables.bootstrap4.min.js"></script>
    
	<!-- Custom Script-->
	<script src="/javascripts/custom.js"></script>
	<script src="/javascripts/custom-datatables.js"></script>
</body>

</html>
